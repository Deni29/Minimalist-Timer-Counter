<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Timer & Counter</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
      background: #0f0f0f;
      color: #e0e0e0;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
    }

    /* Header */
    header {
      padding: 1rem;
      background: #1a1a1a;
      border-bottom: 1px solid #2a2a2a;
    }

    header h1 {
      font-size: 1.25rem;
      font-weight: 600;
      color: #fff;
    }

    /* Main Layout - 3 column grid for ads */
    .container {
      flex: 1;
      display: grid;
      grid-template-columns: 1fr minmax(320px, 800px) 1fr;
      gap: 1rem;
      padding: 1rem;
      max-width: 1400px;
      margin: 0 auto;
      width: 100%;
    }

    /* Ad Slots */
    .ad-slot {
      background: #1a1a1a;
      border: 1px dashed #333;
      border-radius: 8px;
      display: flex;
      align-items: center;
      justify-content: center;
      color: #666;
      font-size: 0.875rem;
      min-height: 250px;
    }

    .ad-slot.left { grid-column: 1; }
    .ad-slot.right { grid-column: 3; }

    /* Tool Container */
    .tool {
      grid-column: 2;
      background: #1a1a1a;
      border-radius: 12px;
      padding: 2rem;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3);
    }

    /* Display */
    .display {
      font-size: 4rem;
      font-weight: 300;
      text-align: center;
      margin: 2rem 0;
      font-variant-numeric: tabular-nums;
      color: #fff;
      letter-spacing: 0.05em;
    }

    /* Controls */
    .controls {
      display: flex;
      gap: 0.75rem;
      justify-content: center;
      flex-wrap: wrap;
      margin-top: 2rem;
    }

    button {
      padding: 0.875rem 2rem;
      font-size: 1rem;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      transition: all 0.2s;
      font-weight: 500;
    }

    .btn-primary {
      background: #4a9eff;
      color: #fff;
    }

    .btn-primary:hover {
      background: #3a8eef;
    }

    .btn-secondary {
      background: #2a2a2a;
      color: #fff;
    }

    .btn-secondary:hover {
      background: #3a3a3a;
    }

    .btn-danger {
      background: #ff4a4a;
      color: #fff;
    }

    .btn-danger:hover {
      background: #ef3a3a;
    }

    /* Timer Input */
    .timer-input {
      display: flex;
      gap: 0.5rem;
      justify-content: center;
      align-items: center;
      margin-bottom: 1.5rem;
    }

    .timer-input input {
      width: 70px;
      padding: 0.75rem;
      font-size: 1.25rem;
      text-align: center;
      background: #2a2a2a;
      border: 1px solid #3a3a3a;
      border-radius: 8px;
      color: #fff;
    }

    .timer-input span {
      color: #888;
      font-size: 1.25rem;
    }

    /* Mobile Responsive */
    @media (max-width: 1024px) {
      .container {
        grid-template-columns: 1fr;
      }
      
      .ad-slot.left,
      .ad-slot.right {
        grid-column: 1;
        min-height: 100px;
      }
      
      .tool {
        grid-column: 1;
      }
    }

    @media (max-width: 640px) {
      .display {
        font-size: 3rem;
      }
      
      button {
        padding: 0.75rem 1.5rem;
      }
    }

    /* Bottom Ad */
    .ad-bottom {
      background: #1a1a1a;
      border-top: 1px solid #2a2a2a;
      padding: 1rem;
      text-align: center;
      color: #666;
      font-size: 0.875rem;
      min-height: 90px;
      display: flex;
      align-items: center;
      justify-content: center;
    }
  </style>
</head>
<body>
  <header>
    <h1>Timer Tool</h1>
  </header>

  <div class="container">
    <!-- Left Ad Slot -->
    <aside class="ad-slot left">
      Ad Space (160×600)
    </aside>

    <!-- Main Tool -->
    <main class="tool">
      <!-- Timer -->
      <div class="timer-input">
        <input type="number" id="hours" min="0" max="99" value="0" placeholder="00">
        <span>:</span>
        <input type="number" id="minutes" min="0" max="59" value="5" placeholder="00">
        <span>:</span>
        <input type="number" id="seconds" min="0" max="59" value="0" placeholder="00">
      </div>
      
      <div class="display" id="timer-display">05:00</div>
      
      <div class="controls">
        <button class="btn-primary" id="timer-start">Start</button>
        <button class="btn-secondary" id="timer-pause">Pause</button>
        <button class="btn-danger" id="timer-reset">Reset</button>
      </div>
    </main>

    <!-- Right Ad Slot -->
    <aside class="ad-slot right">
      Ad Space (160×600)
    </aside>
  </div>

  <!-- Bottom Ad -->
  <div class="ad-bottom">
    Ad Space (728×90 or Responsive)
  </div>

  <script>
    // Tab System
    const tabs = document.querySelectorAll('.tab');
    const tabContents = document.querySelectorAll('.tab-content');

    tabs.forEach(tab => {
      tab.addEventListener('click', () => {
        const targetTab = tab.dataset.tab;
        
        tabs.forEach(t => t.classList.remove('active'));
        tabContents.forEach(tc => tc.classList.remove('active'));
        
        tab.classList.add('active');
        document.getElementById(targetTab).classList.add('active');
      });
    });

    // Timer Logic
    let timerInterval = null;
    let timeLeft = 300; // 5 minutes in seconds
    let isTimerRunning = false;

    const hoursInput = document.getElementById('hours');
    const minutesInput = document.getElementById('minutes');
    const secondsInput = document.getElementById('seconds');
    const timerDisplay = document.getElementById('timer-display');
    const timerStart = document.getElementById('timer-start');
    const timerPause = document.getElementById('timer-pause');
    const timerReset = document.getElementById('timer-reset');

    function formatTime(totalSeconds) {
      const hrs = Math.floor(totalSeconds / 3600);
      const mins = Math.floor((totalSeconds % 3600) / 60);
      const secs = totalSeconds % 60;
      
      if (hrs > 0) {
        return `${hrs.toString().padStart(2, '0')}:${mins.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;
      }
      return `${mins.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;
    }

    function updateTimerDisplay() {
      timerDisplay.textContent = formatTime(timeLeft);
    }

    function getInputTime() {
      const h = parseInt(hoursInput.value) || 0;
      const m = parseInt(minutesInput.value) || 0;
      const s = parseInt(secondsInput.value) || 0;
      return h * 3600 + m * 60 + s;
    }

    // Audio notification
    function playNotificationSound() {
      const audioContext = new (window.AudioContext || window.webkitAudioContext)();
      const oscillator = audioContext.createOscillator();
      const gainNode = audioContext.createGain();
      
      oscillator.connect(gainNode);
      gainNode.connect(audioContext.destination);
      
      oscillator.frequency.value = 800;
      oscillator.type = 'sine';
      
      gainNode.gain.setValueAtTime(0.3, audioContext.currentTime);
      gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.5);
      
      oscillator.start(audioContext.currentTime);
      oscillator.stop(audioContext.currentTime + 0.5);
      
      // Second beep
      setTimeout(() => {
        const osc2 = audioContext.createOscillator();
        const gain2 = audioContext.createGain();
        
        osc2.connect(gain2);
        gain2.connect(audioContext.destination);
        
        osc2.frequency.value = 1000;
        osc2.type = 'sine';
        
        gain2.gain.setValueAtTime(0.3, audioContext.currentTime);
        gain2.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.5);
        
        osc2.start(audioContext.currentTime);
        osc2.stop(audioContext.currentTime + 0.5);
      }, 600);
    }

    // Notification popup
    function showNotification() {
      if ('Notification' in window && Notification.permission === 'granted') {
        new Notification('Timer Finished!', {
          body: 'Your countdown has reached zero.',
          icon: 'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><circle cx="50" cy="50" r="40" fill="%234a9eff"/><text x="50" y="65" font-size="50" text-anchor="middle" fill="white">⏰</text></svg>',
          requireInteraction: false
        });
      }
    }

    // Request notification permission on first interaction
    document.addEventListener('click', () => {
      if ('Notification' in window && Notification.permission === 'default') {
        Notification.requestPermission();
      }
    }, { once: true });

    timerStart.addEventListener('click', () => {
      if (!isTimerRunning) {
        if (timeLeft === 0) {
          timeLeft = getInputTime();
        }
        
        if (timeLeft > 0) {
          isTimerRunning = true;
          timerInterval = setInterval(() => {
            timeLeft--;
            updateTimerDisplay();
            
            if (timeLeft === 0) {
              clearInterval(timerInterval);
              isTimerRunning = false;
              
              // Play sound
              playNotificationSound();
              
              // Show notification
              showNotification();
              
              // Alert as fallback
              alert('⏰ Timer Finished!\n\nYour countdown has reached zero.');
            }
          }, 1000);
        }
      }
    });

    timerPause.addEventListener('click', () => {
      if (isTimerRunning) {
        clearInterval(timerInterval);
        isTimerRunning = false;
      }
    });

    timerReset.addEventListener('click', () => {
      clearInterval(timerInterval);
      isTimerRunning = false;
      timeLeft = getInputTime();
      updateTimerDisplay();
    });

    [hoursInput, minutesInput, secondsInput].forEach(input => {
      input.addEventListener('change', () => {
        if (!isTimerRunning) {
          timeLeft = getInputTime();
          updateTimerDisplay();
        }
      });
    });

    // Counter Logic
    let count = 0;
    const counterDisplay = document.getElementById('counter-display');
    const counterPlus = document.getElementById('counter-plus');
    const counterMinus = document.getElementById('counter-minus');
    const counterReset = document.getElementById('counter-reset');

    function updateCounterDisplay() {
      counterDisplay.textContent = count;
    }

    counterPlus.addEventListener('click', () => {
      count++;
      updateCounterDisplay();
    });

    counterMinus.addEventListener('click', () => {
      count--;
      updateCounterDisplay();
    });

    counterReset.addEventListener('click', () => {
      count = 0;
      updateCounterDisplay();
    });

    // Initialize
    updateTimerDisplay();
  </script>
</body>
</html>
